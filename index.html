<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body onLoad="init();">

<div class="container">

    <h3 style="margin: 10px;"><i class="medium material-icons">insert_chart</i><span style="position: absolute;margin-top: 8px;">Perceptron</span></h3>

    <div class="card">
        <div class="card-image waves-block waves-light">

            <div style="padding: 20px 20px 0px;">

                <div class="row">
                    <div class="col m5 s12">
                        <canvas id="canvas" width="450" height="550">
                            alternate content
                        </canvas>
                    </div>

                    <div class="col m5 offset-m1 s10">

                        <div class="input-field col m9 s9">
                            <i class="material-icons prefix">mode_edit</i>
                            <input placeholder="" id="inputNumber" type="text" class="validate">
                            <label for="inputNumber">Input</label>
                        </div>
                        <div class="col m2 s2">
                            <a class="waves-effect waves-light btn btn-override" onclick="learnClicked()">Learn</a>
                        </div>

                        <div class="input-field col m9 s9">
                            <i class="material-icons prefix">mode_edit</i>
                            <input placeholder="" id="outputNumber" type="text" class="validate">
                            <label for="outputNumber">Output</label>
                        </div>
                        <div class="col m2 s2">
                            <a class="waves-effect waves-light btn btn-override" onclick="processClicked()">Process</a>
                        </div>


                        <div class="input-field col m9 s9">
                            <i class="material-icons prefix">mode_edit</i>
                            <input placeholder="" id="inputLearningRate" type="text" class="validate">
                            <label for="inputLearningRate">Taux d'apprentissage</label>
                        </div>
                        <div class="col m2 s2">
                            <a class="waves-effect waves-light btn btn-override" onclick="changeRateClicked()">Change Rate</a>
                        </div>

                        <div class="col m12 s12">
                            <form action="#">
                                <p class="range-field">
                                    <label for="sizeGridSlider">Taille des pixels</label>
                                    <input type="range" id="sizeGridSlider" min="15" max="150" />
                                </p>

                                <p class="range-field">
                                    <label for="thickness_slider">Précision du pinceau</label>
                                    <input type="range" id="thickness_slider" min="30" max="60"/>
                                </p>
                            </form>
                        </div>
                        <div class="col m12 s12">
                            <label for="lsdmode">LSD Mode :</label>
                            <div id="lsdmode" class="switch">
                                <label>
                                    Off
                                    <input id="lsdmode_switch" type="checkbox">
                                    <span class="lever"></span>
                                    On
                                </label>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="card-content" style="padding: 10px; margin: -10px;">
            <div class="row" style="padding-bottom: 10px;">
                <div class="col m2 offset-m1 s1 offset-s1">
                    <a class="waves-effect waves-light btn" onclick="resetCanvas()"><i class="large material-icons right">replay</i>Reset</a>
                </div>
                <div class="col m1 offset-m7 s1 offset-s7">
                    <a class="waves-effect waves-light btn activator orange lighten-2"><i class="large material-icons">live_help</i></a>
                </div>
            </div>
        </div>

        <!-- Documentation -->
        <div class="card-reveal">
            <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>

            <h3>Développeurs</h3>
            <p>
                Julien Maupetit <br>
                Pierre Hosteins <br>
                Benoit Grand <br>
                Aymeric Mivielle <br>

            </p>

            <h3>Description de l'applicatif</h3>
            <p>
                Le perceptron est un réseau de neurone simple destiné à apprendre <i>seul</i> des données précises, ici des chiffres.<br>
                Grâce a la formule <kbd><var> P' = P + t * (A – O) * E </var></kbd> nous avons réalisé le perceptron basé sur un apprentissage <i>supervisé</i>.<br>
                <kbd><var>P' le poids corrigé, P le poids, t le taux d'apprentissage, A la valeur attendue, O la valeur obtenue et E l'entrée.</var></kbd><br>
            </p>
            <p>
                Pour réaliser le perceptron, nous sommes partis d'une base graphique correspondant à une grille de pixels en 3 dimensions:<br>
                - axe des ordonnées<br>
                - axe des abcisses<br>
                - le chiffre à apprendre de 1 à 9 <br/>
            <p/>

            <p>
                Chaque pixel contient un poids qui est calculé avec la formule précédemment écrite. Ce poids diffère en fonction du chiffre à faire apprendre.
            </p>

            <p>
                L'apprentissage du Perceptron se fait via un dessin sur la grille et le boutin Learn. A chaque pression, l'IHM affiche quels sont les chiffres déjà connu par le Perceptron pour cet ensemble de pixels via le champs Output. A chaque pression, on peut donc constater l'apprentissage du Perceptron qui va graduellement éliminé les possibilités pour ne retenir que le chiffre voulu.
            </p>
            <p>
                Cet apprentissage n'est pas immédiat et il faut de nombreuses itération pour véritablement "apprendre" au programme les différents chiffres.
            </p>

            <h3>Rôle des fichiers dans le projet</h3>

            <p>"app.js" affiche le canvas représentant la grille numérique.</p>
            <p>"perceptron.js" permet de créer un reseau de neurone simple prenant en compte une couche d'entrée et de sortie et connectées ensembles.
                Dans ce fichier se trouve l'algorithme correspondant à l'apprentissage des chiffres de 1 à 9 ainsi que l'algorithme permettant de chercher et reconnaitre ces chiffres grâce a la formule.</p>

            <table class="table table-condensed">
                <thead>
                <tr>
                    <h4><th>Librairies</th>
                        <th>Description</th>
                        <th>Place</th></h4>
                </tr>
                </thead>
                <tr><td>Materialize</td><td>un visuel plus agréable pour l'utilisateur</td><td>javascript: via CDN </br>css: via CDN</td></tr>
            </table>

            <h3>Evolution possible</h3>

            <p>Permettre d'enregister les formes, pour pouvoir les charger plus rapidement.</p>

            <p>L'autoapprentissage des nombres.</p>

            <p>Ajouter une couche en plus cachée :
                Enregistrer un chiffre en calculant une suite des pixels allumés à partir d’un pixel choisit.
                Ainsi, on établit une suite logique des fils allumés (pixels adjacents) en leur attribuant un poids différent à chaque fois en fonction de leur position par rapport au pixel mère.
            </p>

            <h3>Feature supplémentaire</h3>

            <p>
                Paramétrage de la taille des pixels, pour avoir plus ou moins de case dans le tableau.
            </p>

            <p>
                Paramétrage du taux d'apprentissage, afin de modifier la vitesse d'apprentissage des formes.
            </p>

            <p>
                Changement de précision du curseur pour activer également les pixels adjacents, mais avec un poids moindre.
            </p>

            <p>
                Un mode supplémentaire dit "LSD" a été rajouté à cette application qui peut être activé d'un clic et qui transforme sensiblement le ressenti de l'IHM de l'application. Epileptique s'abstenir.
            </p>


        </div>
    </div>

</div>

<script src="perceptron.js"></script>
<script src="app.js"></script>
<script src="http://code.jquery.com/jquery-2.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>

<style>
    .btn-override{
        position: absolute;
        margin-top: 25px;
    }
</style>

</body>
</html>